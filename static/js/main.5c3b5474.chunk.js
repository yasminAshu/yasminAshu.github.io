(this["webpackJsonpstar-wars"]=this["webpackJsonpstar-wars"]||[]).push([[0],{25:function(e,t,a){e.exports=a(39)},30:function(e,t,a){},32:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),o=a.n(s),l=(a(30),a(15)),c=a.n(l),i=a(22),u=a(8),m=a(9),p=a(11),h=a(10),d=a(12),f=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleUserName=function(e){a.setState({userName:e.target.value})},a.handlePassword=function(e){a.setState({password:e.target.value})},a.login=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://swapi.co/api/people",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,n.results.some((function(e){return e.name===a.state.userName&&e.birth_year===a.state.password}))?a.props.history.push("/Search"):a.setState({userFound:!1}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),a.state={userName:"",password:"",userFound:!0},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"text",placeholder:"username",value:this.state.userName,onChange:this.handleUserName}),r.a.createElement("input",{type:"password",placeholder:"password",value:this.state.password,onChange:this.handlePassword}),r.a.createElement("button",{onClick:this.login},"login")),!this.state.userFound&&r.a.createElement("div",{class:"error"},"User id or password is incorrect"),"            ")}}]),t}(r.a.Component),E=(a(32),a(18)),v=function(e){var t=e.planetInfo,a=e.handleClose,n=e.show?"modal display-block":"modal display-none";return r.a.createElement("div",{className:n},r.a.createElement("section",{className:"modal-main"},r.a.createElement("h2",null,"Planet"),r.a.createElement("div",{className:"planet-info"},t&&Object.keys(t).map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("strong",null,e)),r.a.createElement("span",null,t&&t[e]))}))),r.a.createElement("button",{className:"button-close",onClick:a},"close")))},g=function(e){var t=e.maxPopulation,a=e.planets,s=Object(n.useState)(!1),o=Object(E.a)(s,2),l=o[0],c=o[1],i=Object(n.useState)(null),u=Object(E.a)(i,2),m=u[0],p=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{show:l,planetInfo:m,handleClose:function(){return c(!1)}}),r.a.createElement("div",{className:"grid"},a&&r.a.createElement("div",{className:"header"},r.a.createElement("span",{className:"search-head"},r.a.createElement("strong",null,"Name")),r.a.createElement("span",{className:"search-head"},r.a.createElement("strong",null,"Population"))),a&&a.map((function(e,a){return console.log(e),r.a.createElement("div",{key:a,className:"grid-container ".concat(t.name===e.name?"active":""),onClick:function(){return function(e){c(!0),p(e)}(e)}},r.a.createElement("span",null,e.name),r.a.createElement("span",null,e.population))}))))},b=a(5),w=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).timer=function(){a.setState({timeLeft:a.state.timeLeft-1}),console.log("timer",a.state.timeLeft),0==a.state.timeLeft&&clearInterval(a.timer)},a.search=function(e){var t=e.target.value,n=a.state,r=n.planets,s=n.count;if(console.log("count",s),0===s&&(a.timer=setInterval(a.timer,1e3)),""!==t&&s<14&&a.state.timeLef>0){var o=r.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));a.setState({filterPlanets:o})}else a.setState({filterPlanets:[]});a.setState({count:s+1})},a.logout=function(){a.setState({logout:!0})},a.state={planets:[],filterPlanets:[],logout:!1,count:0,timeLeft:5},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;try{fetch("https://swapi.co/api/planets",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({planets:t.results})}))}catch(t){console.error("Error:",t)}}},{key:"render",value:function(){var e=0!==this.state.filterPlanets.length&&this.state.filterPlanets.reduce((function(e,t){return console.log(typeof e.population,t.population),parseInt(e.population)>parseInt(t.population)?e:t}));return this.state.logout?r.a.createElement(b.a,{to:"/"}):r.a.createElement("div",{className:"main-container"},r.a.createElement("button",{onClick:this.logout,className:"logout"},"Logout"),r.a.createElement("div",{className:"search-container"},r.a.createElement("input",{type:"text",id:"search-bar",placeholder:"Search Planet....",onChange:this.search}),r.a.createElement("i",{className:"fa fa-search search-icon","aria-hidden":"true"})),0!==this.state.filterPlanets.length&&r.a.createElement(g,{maxPopulation:e,planets:this.state.filterPlanets}))}}]),t}(r.a.Component),N=(a(38),a(14)),j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N.a,null,r.a.createElement(b.b,{exact:!0,component:f,path:"/"}),r.a.createElement(b.b,{component:w,path:"/Search"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.5c3b5474.chunk.js.map